



<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
"http://www.w3.org/TR/REC-html40/loose.dtd">
<!-- ViewCVS - http://viewcvs.sourceforge.net/
by Greg Stein - mailto:gstein@lyra.org -->
<html>
<head>
<title>[supertux] View of /trunk/supertux/data/levels/test/script.stl</title>
<meta name="generator" content="ViewCVS 1.0-dev">
<link rel="stylesheet" href="/viewcvs/*docroot*/styles.css" type="text/css">
</head>
<body>
<!-- top strip -->
<table width="100%" border=0 cellspacing=0 cellpadding=2>
<tr bgcolor="#7b7b7b">
<td><span class=maintitlebar>&nbsp
<b><a href="http://www.berlios.de/" class="maintitlebar">Home</a></b> |
<b><a href="http://www.berlios.de/about/" class="maintitlebar">About us</a></b> |
<b><a href="http://www.berlios.de/partners/" class="maintitlebar">Partners</a></b> |
<b><a href="http://www.berlios.de/contact/" class="maintitlebar">Contact</a></b>
</span>
</td>
</tr>
</table>
<!-- end top strip -->
<!-- top title table -->
<table width="100%" border=0 cellspacing=0 cellpadding=0 bgcolor="" valign="middle">
<tr valign="top" bgcolor="#ffcc33">
<td bgcolor="#ffffff"><a href="http://www.berlios.de/"><img src="/images/berliOS_logo.png" hspace=5 vspace=5 border=0 width="238" height="61"></a></td>
<td WIDTH="10" BGCOLOR="#ffcc33"><img SRC="/images/blank.gif" BORDER=0 height=1 width=10></td>
<td width="99%" valign="middle"><b><font size=+1>&nbsp;SVN Repository</font></b></td>
<td valign=middle>
<a href="http://www.fokus.fraunhofer.de/"><img src="/images/logo_fokus.png" align="right" alt="FOKUS" hspace="10" border=0 width="60" height="60"></a>
</td>
</tr>
<tr><td bgcolor="#7b7b7b" colspan=4><img src="/images/blank.gif" height=2 vspace=0></td></tr>
</table>
<!-- end top title table -->
<table width="100%" border=0 cellspacing=0 cellpadding=4>
<tr>
<td align=middle>
<script type="text/javascript"><!--
google_ad_client = "pub-3290644696617321";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</tr>
</table>
<div class="vc_navheader">
<table width="100%" border="0" cellpadding="2" cellspacing="0">
<tr>
<td align="left"><b>

<a href="/viewcvs/supertux/?rev=2428">

[supertux]</a>
/

<a href="/viewcvs/supertux/trunk/?rev=2428">

trunk</a>
/

<a href="/viewcvs/supertux/trunk/supertux/?rev=2428">

supertux</a>
/

<a href="/viewcvs/supertux/trunk/supertux/data/?rev=2428">

data</a>
/

<a href="/viewcvs/supertux/trunk/supertux/data/levels/?rev=2428">

levels</a>
/

<a href="/viewcvs/supertux/trunk/supertux/data/levels/test/?rev=2428">

test</a>
/

<a href="/viewcvs/supertux/trunk/supertux/data/levels/test/script.stl?rev=2428&amp;view=log">

script.stl</a>


</b></td>
</tr>
</table>
</div>
<h1><img align=right src="/viewcvs/*docroot*/images/logo.png" width=128 height=48>View of /trunk/supertux/data/levels/test/script.stl</h1>

<a href="/viewcvs/supertux/trunk/supertux/data/levels/test/"><img src="/viewcvs/*docroot*/images/back_small.png" width=16 height=16 border=0> Parent Directory</a>

| <a href="/viewcvs/supertux/trunk/supertux/data/levels/test/script.stl?view=log"><img src="/viewcvs/*docroot*/images/text.png" border=0> Revision Log</a>



<hr>
<div class="vc_summary">
Revision: <b>2428</b> -
(<a href="/viewcvs/*checkout*/supertux/trunk/supertux/data/levels/test/script.stl?rev=2428"><b>download</b></a>)



<br><i>Sat May  7 00:58:24 2005 UTC</i> (43 hours, 39 minutes ago) by <i>matzebraun</i>





<br>File size: 5940 byte(s)



<pre class="vc_log">- Change ScriptInterpreter to a gameobject, so we can now have several script
interpreters running
- Added a dead-script option to the yeti and added a small script when the
yeti is dead
- worked a bit more on the yeti
- Implement Level::spawn and Level::finish scripting API

</pre>

</div>
<pre>;; Generated by Flexlay Editor
(supertux-level
  (version 2)
  (name   (_ "Scripting Test"))
  (author "totally pointless script maker")
  (sector
    (name  "main")
    (music  "salcon.mod")
    (gravity 10.000000)
    (tilemap
      (layer  "background")
      (solid #f)
      (speed  1.000000)
      (width  25)
      (height 20)
      (tiles
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 124 210 210 125 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 124 210 210 125 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 124 210 210 125 0 0 0 0 0 0 0 0 0 
        0 0 124 125 0 0 0 0 0 0 0 0 124 210 210 125 0 0 0 0 0 0 0 0 0 
        0 0 124 125 0 0 0 0 0 0 0 0 124 210 210 125 0 0 124 125 0 0 0 0 0 
        0 0 124 125 0 0 25 0 0 0 24 0 124 210 210 125 0 0 124 125 0 0 24 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        ))
    (tilemap
      (layer  "interactive")
      (solid #t)
      (speed  1.000000)
      (width  25)
      (height 20)
      (tiles
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 122 209 209 123 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 122 123 0 0 0 0 0 0 0 0 0 0 402 403 404 405 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 406 407 408 409 122 123 0 0 0 0 0 
        0 403 404 0 0 0 0 0 0 0 0 0 0 0 410 451 412 413 0 0 0 0 0 0 0 
        8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
        14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 14 
        11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 
        11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 
        11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 
        ))
    (tilemap
      (layer  "foreground")
      (solid #f)
      (speed  1.000000)
      (width  25)
      (height 20)
      (tiles
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 402 403 404 405 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 406 407 408 409 0 0 0 0 0 0 0 
        0 403 404 0 0 0 0 0 0 0 0 0 0 0 410 411 412 413 0 0 0 0 0 0 0 
        0 407 408 0 0 0 0 0 0 0 0 0 0 0 414 423 416 425 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
        ))
    (camera
      (mode "normal")
    )

       (background
         (image "semi_arctic.jpg")
         (speed 0.500000)
       )
       (spawnpoint (name "main") (x 320) (y 384))
       (particles-snow
       )
       (scriptedobject
         (name "TUX")
         (x 160)
         (y 448)
         (sprite "dummyguy")
       )
       (scriptedobject
         (name "PENNY")
         (x 390)
         (y 448)
         (sprite "dummyguy")
       )
       (scriptedobject
         (name "NOLOK")
         (x 420)
         (y 94)
         (sprite "dummyguy")
         (visible #f)
         (physic-enabled #f)
         (solid #f)
       )
       (init-script "
function wait(time) {
    set_wakeup_time(time);
    suspend();
}
Text.set_text(translate(\"The Crazy Nolok Dance\"));
Text.fade_in(2);
TUX.set_animation(\"jump\");
wait(4);
Text.fade_out(1);
wait(1);
NOLOK.set_visible(true);
tuxjumps &lt;- 2;
while(true) {
  wait(0.8);
  Sound.play_sound(\"jump\");
  if(tuxjumps &gt;= 0) {
    TUX.set_velocity(50, 300);
  } else {
    TUX.set_velocity(-50, 300);
    if(tuxjumps &lt; -2)
      tuxjumps = 3;
  }
  tuxjumps--;
  wait(0.5);
  if(PENNY.get_animation() == \"stand\") {
    PENNY.set_animation(\"throw\");
  } else if(PENNY.get_animation() == \"throw\") {
    PENNY.set_animation(\"jump\");
  } else if(PENNY.get_animation() == \"jump\") {
    PENNY.set_animation(\"dead\");
  } else {
    Sound.play_sound(\"grow\");
    PENNY.set_animation(\"stand\");
    PENNY.set_velocity(0, 900);
  }
}
")
   )
)

</pre>

<hr noshade>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td align="left">
<address><a href="mailto:berlios-admin@berlios.de">BerliOS Admin</a></address><br />
</td>
<td align="right">
Powered by <a href="http://viewcvs.sourceforge.net/">ViewCVS 1.0-dev</a>
<br><a target="_blank" href="/viewcvs/*docroot*/help_rootview.html">ViewCVS and CVS Help</a>
</td>
</tr>
</table>
</body>
</html>

