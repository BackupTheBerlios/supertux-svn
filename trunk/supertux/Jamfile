SubDir TOP ;

if $(XGETTEXT) != ""
{
    actions XGetText
    {
        $(XGETTEXT) $(XGETTEXT_FLAGS) --keyword='_:1' -o $(<) $(>)
    }
    rule MakePot
    {
      if $(>) {
        XGetText $(<) : $(>) ;
        Depends $(<) : $(>) ;
        Depends all : $(<) ;
      }
    }
} else {
    rule MakePot
    { }
}

# Decend into subdirs
SubInclude TOP lib ;
SubInclude TOP src ;
SubInclude TOP data ;

UseAutoconf ;

# add some additional files to package
Package INSTALL NEWS README COPYING AUTHORS ChangeLog ;

MakePot data/locale/supertux.pot : $(TRANSLATABLE_SOURCES) ;
XGETTEXT_FLAGS on data/locale/supertux.pot += --language=C++ ;
